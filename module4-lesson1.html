<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 4.1: Integrated Program Design & Implementation</title>
    <link rel="stylesheet" href="../css/learning-hub.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="lesson-page">
    <div class="lesson-container">
        <!-- Lesson Header -->
        <header class="lesson-header">
            <a href="../../learning-hub.html" class="back-button">
                <i class="fas fa-arrow-left"></i>
                Back to Learning Hub
            </a>
            <div class="lesson-progress">
                <span class="lesson-number">
                    <span class="header-module">MODULE 4</span>
                    <span class="header-lesson">LESSON 4.1 of 3</span>
                </span>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 33.33%"></div>
                </div>
            </div>
        </header>

        <main class="lesson-main">
            <div class="lesson-content">
                <!-- Lesson Hero -->
                <div class="lesson-hero">
                    <div class="lesson-badge">
                        <span class="module-number">MODULE 4</span>
                        <span class="lesson-number-badge">LESSON 4.1</span>
                    </div>
                    <h1>Integrated Program Design & Implementation</h1>
                    <p class="lesson-subtitle">Design programs that address nutrition, food waste, and volunteer development together</p>
                    <div class="lesson-meta">
                        <span class="lesson-duration"><i class="fas fa-clock"></i> 2 hours</span>
                        <span class="lesson-difficulty"><i class="fas fa-signal"></i> Advanced</span>
                        <span class="lesson-type"><i class="fas fa-graduation-cap"></i> Integration Workshop</span>
                    </div>
                </div>

                <!-- Integrated Program Design Section -->
                <div class="lesson-section">
                    <h2>Integrated Program Design Principles</h2>
                    <p>Integrated programs leverage synergies between nutrition education, food waste reduction, and volunteer development to create more effective and sustainable community interventions.</p>

                    <div class="integration-principles">
                        <div class="principle-card synergy">
                            <div class="principle-header">
                                <div class="principle-icon">üîó</div>
                                <h3>Leveraging Synergies</h3>
                            </div>
                            <div class="principle-content">
                                <h4>Natural Connections</h4>
                                <ul>
                                    <li><strong>Food Recovery ‚Üí Nutrition:</strong> Recovered food for nutrition education</li>
                                    <li><strong>Volunteer Training ‚Üí Food Waste:</strong> Trained volunteers for waste reduction</li>
                                    <li><strong>Community Engagement ‚Üí All Areas:</strong> Engaged communities for multiple programs</li>
                                    <li><strong>Resource Sharing ‚Üí Efficiency:</strong> Shared materials, venues, and staff</li>
                                </ul>
                                <h4>Multiplicative Impact</h4>
                                <ul>
                                    <li>Single volunteer training serves multiple program areas</li>
                                    <li>Community events address multiple educational needs</li>
                                    <li>Partnerships benefit multiple program components</li>
                                    <li>Resources create impact across program areas</li>
                                </ul>
                            </div>
                        </div>

                        <div class="principle-card systems">
                            <div class="principle-header">
                                <div class="principle-icon">üåê</div>
                                <h3>Systems Thinking</h3>
                            </div>
                            <div class="principle-content">
                                <h4>Holistic Approach</h4>
                                <ul>
                                    <li><strong>Root Cause Analysis:</strong> Address underlying community issues</li>
                                    <li><strong>Interconnected Solutions:</strong> Multiple interventions for complex problems</li>
                                    <li><strong>Feedback Loops:</strong> Learning and adaptation across programs</li>
                                    <li><strong>Stakeholder Networks:</strong> Multi-sectoral partnerships and collaboration</li>
                                </ul>
                                <h4>Comprehensive Impact</h4>
                                <ul>
                                    <li>Address immediate needs while building long-term capacity</li>
                                    <li>Create sustainable solutions through multiple reinforcing strategies</li>
                                    <li>Build community resilience through diverse program offerings</li>
                                    <li>Leverage community assets across multiple program areas</li>
                                </ul>
                            </div>
                        </div>

                        <div class="principle-card efficiency">
                            <div class="principle-header">
                                <div class="principle-icon">‚ö°</div>
                                <h3>Resource Optimization</h3>
                            </div>
                            <div class="principle-content">
                                <h4>Cost Effectiveness</h4>
                                <ul>
                                    <li><strong>Shared Infrastructure:</strong> Common venues, equipment, and materials</li>
                                    <li><strong>Cross-Training:</strong> Volunteers trained for multiple roles</li>
                                    <li><strong>Joint Programming:</strong> Combined events and activities</li>
                                    <li><strong>Leveraged Funding:</strong> Multiple funding streams for integrated programs</li>
                                </ul>
                                <h4>Operational Efficiency</h4>
                                <ul>
                                    <li>Streamlined administration and reporting</li>
                                    <li>Coordinated scheduling and logistics</li>
                                    <li>Shared communication and marketing</li>
                                    <li>Unified data collection and evaluation systems</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Implementation Strategies Section -->
                <div class="lesson-section">
                    <h2>Comprehensive Implementation Strategies</h2>
                    <p>Effective implementation requires careful coordination of multiple program components while maintaining focus on community needs and organizational capacity.</p>

                    <div class="implementation-framework">
                        <div class="implementation-phase planning">
                            <div class="phase-header">
                                <h3><i class="fas fa-map"></i> Integrated Planning</h3>
                            </div>
                            <div class="phase-content">
                                <h4>Program Design</h4>
                                <ul>
                                    <li><strong>Needs Assessment:</strong> Comprehensive community analysis</li>
                                    <li><strong>Goal Alignment:</strong> Connected objectives across program areas</li>
                                    <li><strong>Resource Mapping:</strong> Inventory of available assets and capacity</li>
                                    <li><strong>Timeline Development:</strong> Coordinated implementation schedule</li>
                                </ul>
                                <h4>Stakeholder Engagement</h4>
                                <ul>
                                    <li>Multi-sector partnerships (health, environment, education)</li>
                                    <li>Community advisory committees</li>
                                    <li>Cross-training for staff and volunteers</li>
                                    <li>Shared vision and mission development</li>
                                </ul>
                            </div>
                        </div>

                        <div class="implementation-phase coordination">
                            <div class="phase-header">
                                <h3><i class="fas fa-cogs"></i> Program Coordination</h3>
                            </div>
                            <div class="phase-content">
                                <h4>Operational Integration</h4>
                                <ul>
                                    <li><strong>Unified Management:</strong> Single coordination team for multiple programs</li>
                                    <li><strong>Shared Resources:</strong> Common materials, venues, and equipment</li>
                                    <li><strong>Cross-Promotion:</strong> Joint marketing and community outreach</li>
                                    <li><strong>Flexible Staffing:</strong> Volunteers trained for multiple program areas</li>
                                </ul>
                                <h4>Communication Systems</h4>
                                <ul>
                                    <li>Regular inter-program coordination meetings</li>
                                    <li>Shared information and resource platforms</li>
                                    <li>Unified community communication strategy</li>
                                    <li>Cross-program learning and adaptation</li>
                                </ul>
                            </div>
                        </div>

                        <div class="implementation-phase adaptation">
                            <div class="phase-header">
                                <h3><i class="fas fa-chart-line"></i> Adaptive Management</h3>
                            </div>
                            <div class="phase-content">
                                <h4>Monitoring & Learning</h4>
                                <ul>
                                    <li><strong>Integrated Evaluation:</strong> Cross-program impact assessment</li>
                                    <li><strong>Shared Learning:</strong> Best practices across program areas</li>
                                    <li><strong>Responsive Adaptation:</strong> Adjustments based on combined feedback</li>
                                    <li><strong>Continuous Improvement:</strong> Systematic learning and program enhancement</li>
                                </ul>
                                <h4>Community Feedback</h4>
                                <ul>
                                    <li>Regular community input on integrated programs</li>
                                    <li>Participant feedback across all program areas</li>
                                    <li>Community advisory input on program direction</li>
                                    <li>Responsive program modifications based on community needs</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Interactive Activity Section -->
                <div class="lesson-activity">
                    <h2>Activity: Integrated Program Design Challenge</h2>
                    <p>Design programs that address nutrition, food waste, and volunteer development together through systems thinking workshops.</p>

                    <div class="activity-steps">
                        <h3>How to Complete This Activity:</h3>
                        <ol>
                            <li>Analyze community needs across multiple areas</li>
                            <li>Design integrated program connecting all three modules</li>
                            <li>Develop implementation timeline and resource allocation</li>
                            <li>Create systems map showing program connections</li>
                            <li>Present integrated design for peer feedback</li>
                        </ol>
                    </div>

                    <div class="integration-designer">
                        <h3>Integrated Program Design Tool</h3>
                        <form class="integration-form">
                            <div class="form-section">
                                <h4>Community Assessment</h4>
                                <div class="form-group">
                                    <label>Community Profile:</label>
                                    <textarea class="form-input" placeholder="Describe the target community demographics, needs, and assets..."></textarea>
                                </div>
                                <div class="form-group">
                                    <label>Current Programs:</label>
                                    <textarea class="form-input" placeholder="What nutrition, food waste, or volunteer programs already exist?"></textarea>
                                </div>
                                <div class="form-group">
                                    <label>Integration Opportunities:</label>
                                    <textarea class="form-input" placeholder="Where can programs naturally connect and support each other?"></textarea>
                                </div>
                            </div>

                            <div class="form-section">
                                <h4>Program Integration Design</h4>
                                <div class="integration-components">
                                    <div class="component-design">
                                        <h5>Core Program Components</h5>
                                        <div class="component-options">
                                            <label class="checkbox-label">
                                                <input type="checkbox" value="nutrition-education"> Community nutrition education workshops
                                            </label>
                                            <label class="checkbox-label">
                                                <input type="checkbox" value="food-recovery"> Food recovery and redistribution systems
                                            </label>
                                            <label class="checkbox-label">
                                                <input type="checkbox" value="volunteer-training"> Volunteer training and development
                                            </label>
                                            <label class="checkbox-label">
                                                <input type="checkbox" value="waste-prevention"> Household food waste prevention
                                            </label>
                                            <label class="checkbox-label">
                                                <input type="checkbox" value="community-events"> Community events and awareness campaigns
                                            </label>
                                        </div>
                                    </div>
                                    <div class="component-design">
                                        <h5>Integration Strategies</h5>
                                        <div class="integration-options">
                                            <label class="checkbox-label">
                                                <input type="checkbox" value="shared-volunteers"> Volunteers trained for multiple program areas
                                            </label>
                                            <label class="checkbox-label">
                                                <input type="checkbox" value="joint-events"> Combined events addressing multiple topics
                                            </label>
                                            <label class="checkbox-label">
                                                <input type="checkbox" value="resource-sharing"> Shared resources and materials
                                            </label>
                                            <label class="checkbox-label">
                                                <input type="checkbox" value="cross-promotion"> Cross-promotion between programs
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-section">
                                <h4>Implementation Timeline</h4>
                                <div class="timeline-design">
                                    <div class="timeline-phase">
                                        <h5>Phase 1: Foundation (Months 1-3)</h5>
                                        <textarea class="form-input" placeholder="Establish program infrastructure, recruit core volunteers, assess community needs..."></textarea>
                                    </div>
                                    <div class="timeline-phase">
                                        <h5>Phase 2: Integration (Months 4-6)</h5>
                                        <textarea class="form-input" placeholder="Launch integrated programs, connect different components, build partnerships..."></textarea>
                                    </div>
                                    <div class="timeline-phase">
                                        <h5>Phase 3: Expansion (Months 7-12)</h5>
                                        <textarea class="form-input" placeholder="Scale successful programs, deepen community engagement, measure impact..."></textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="form-section">
                                <h4>Resource Optimization</h4>
                                <div class="resource-design">
                                    <div class="form-group">
                                        <label>Shared Resources:</label>
                                        <textarea class="form-input" placeholder="What resources can be shared across programs?"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label>Volunteer Roles:</label>
                                        <textarea class="form-input" placeholder="How can volunteers support multiple program areas?"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label>Partnership Leverage:</label>
                                        <textarea class="form-input" placeholder="How can partnerships support multiple program goals?"></textarea>
                                    </div>
                                </div>
                            </div>

                            <button type="button" class="activity-submit" onclick="generateIntegrationPlan()">Generate Integrated Program Plan</button>
                        </form>
                    </div>

                    <div class="activity-reflection">
                        <h3>Reflection Questions:</h3>
                        <div class="reflection-form">
                            <div class="form-group">
                                <label>How do integrated programs create greater impact than separate programs?</label>
                                <textarea class="activity-input" placeholder="Consider synergies, resource efficiency, and community engagement..."></textarea>
                            </div>
                            <div class="form-group">
                                <label>What are the challenges of coordinating multiple program areas?</label>
                                <textarea class="activity-input" placeholder="Think about communication, resource allocation, and stakeholder management..."></textarea>
                            </div>
                            <div class="form-group">
                                <label>How can you ensure all program areas receive adequate attention in an integrated approach?</label>
                                <textarea class="activity-input" placeholder="Consider balance, quality control, and stakeholder expectations..."></textarea>
                            </div>
                            <button class="activity-submit" onclick="saveIntegrationReflection()">Save My Integrated Program Design</button>
                        </div>
                    </div>
                </div>

                <!-- Lesson Summary -->
                <div class="lesson-summary">
                    <h2>Lesson Summary</h2>
                    <div class="summary-content">
                        <p>In this lesson, you learned:</p>
                        <ul>
                            <li><strong>Integration Principles:</strong> Synergies, systems thinking, and resource optimization</li>
                            <li><strong>Program Design:</strong> Connected objectives and shared resources across areas</li>
                            <li><strong>Implementation Strategies:</strong> Planning, coordination, and adaptive management</li>
                            <li><strong>Stakeholder Engagement:</strong> Multi-sector partnerships and community involvement</li>
                            <li><strong>Impact Amplification:</strong> Creating greater outcomes through integrated approaches</li>
                        </ul>
                        <p><strong>Key Takeaway:</strong> Integrated program design leverages natural connections between nutrition, food waste, and volunteer development to create more effective, efficient, and sustainable community interventions.</p>
                    </div>
                </div>

                <!-- Lesson Navigation -->
                <div class="lesson-navigation">
                    <button class="nav-button secondary" onclick="goToLesson('integration', 0)">
                        <i class="fas fa-arrow-left"></i> Previous Module
                    </button>
                    <div class="lesson-counter">
                        <span class="counter-module">MODULE 4</span>
                        <span class="counter-lesson">LESSON 4.1 of 3</span>
                    </div>
                    <button class="nav-button primary" onclick="goToLesson('integration', 2)">
                        Next Lesson <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <script>
        function generateIntegrationPlan() {
            const form = document.querySelector('.integration-form');
            const selections = {
                community: form.querySelectorAll('textarea')[0].value,
                components: Array.from(form.querySelectorAll('input[type="checkbox"]:checked')).map(cb => cb.value),
                timeline: Array.from(form.querySelectorAll('.timeline-phase textarea')).map(ta => ta.value)
            };

            showMessage('Integrated program plan generated! Ready for community implementation.', 'success');
        }

        function saveIntegrationReflection() {
            const reflections = document.querySelectorAll('.activity-input');
            let allFilled = true;

            reflections.forEach(input => {
                if (!input.value.trim()) {
                    allFilled = false;
                }
            });

            if (allFilled) {
                const activityData = {
                    lesson: 'integration-lesson-4.1',
                    date: new Date().toISOString(),
                    reflections: Array.from(reflections).map(input => input.value)
                };

                const savedActivities = JSON.parse(localStorage.getItem('integrationActivities') || '[]');
                savedActivities.push(activityData);
                localStorage.setItem('integrationActivities', JSON.stringify(savedActivities));

                showMessage('Integrated program reflection saved successfully!', 'success');
            } else {
                showMessage('Please fill in all reflection questions before saving.', 'warning');
            }
        }

        function goToLesson(module, lesson) {
            console.log('üîç NAVIGATION DEBUG:', {
                module: module,
                lesson: lesson,
                currentURL: window.location.href,
                timestamp: new Date().toISOString()
            });

            // Force cache bypass by adding timestamp
            const cacheBuster = '?t=' + Date.now();

            if (lesson === 0) {
                console.log('üìç Navigating to learning hub');
                window.location.href = '../../learning-hub.html';
            } else {
                const fileNames = {
                    2: 'module4-lesson2.html' + cacheBuster,
                    3: 'module4-lesson3.html' + cacheBuster
                };

                console.log('üìã File mapping:', fileNames);
                console.log('üéØ Target lesson:', lesson);
                console.log('üìÅ Target file:', fileNames[lesson]);

                if (fileNames[lesson]) {
                    // Clear any existing progress that might interfere
                    console.log('üßπ Clearing old progress data');
                    localStorage.removeItem('currentModuleProgress');

                    const moduleProgress = {
                        currentModule: module,
                        currentLesson: lesson,
                        totalLessons: 3,
                        moduleTitle: 'Program Integration & Community Impact Measurement'
                    };

                    console.log('üíæ Saving new progress:', moduleProgress);
                    localStorage.setItem('currentModuleProgress', JSON.stringify(moduleProgress));

                    console.log('üöÄ Opening file with cache buster:', fileNames[lesson]);
                    window.open(fileNames[lesson], '_blank');
                } else {
                    console.error('‚ùå No file mapping found for lesson:', lesson);
                    showMessage(`Error: Cannot find lesson ${lesson}`, 'error');
                }
            }
        }

        function showMessage(message, type) {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.innerHTML = `<p>${message}</p>`;

            document.body.appendChild(toast);

            setTimeout(() => {
                toast.classList.add('show');
            }, 100);

            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>